<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modern Login & Signup</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: url('https://www.zf.com/products/media/automotive/cv/bus_connect/BUS_CONNECT_HERO_IMAGE_3_5_2_2048px.jpg') no-repeat center center/cover;
      position: relative;
    }

    .container {
      width: 400px;
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 10px 35px rgba(0, 0, 0, 0.2);
      overflow: hidden;
      animation: fadeIn 0.6s ease;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .tabs {
      display: flex;
    }

    .tab {
      flex: 1;
      text-align: center;
      padding: 15px;
      cursor: pointer;
      font-weight: bold;
      color: #555;
      transition: 0.3s;
    }

    .tab:hover {
      background: #f1f5f9;
    }

    .tab.active {
      background: linear-gradient(135deg, #5a8dd0, #2e8bd2);
      color: #fff;
      box-shadow: inset 0 -3px 8px rgba(0, 0, 0, 0.2);
    }

    .form {
      padding: 25px;
      transition: 0.4s;
    }

    .form h2 {
      margin-bottom: 20px;
      color: #111827;
    }

    .form input {
      width: 100%;
      margin: 8px 0;
      padding: 12px 40px 12px 12px;
      border: 1px solid #d1d5db;
      border-radius: 10px;
      outline: none;
      transition: 0.3s;
      position: relative;
    }

    .form input:focus {
      border-color: #2e629b;
      box-shadow: 0 0 6px #6673a4;
    }

    .input-group {
      position: relative;
    }

    .eye {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      cursor: pointer;
      font-size: 16px;
      color: #6b7280;
      transition: 0.3s;
    }

    .eye:hover {
      color: #111827;
    }

    .form button {
      width: 100%;
      margin-top: 12px;
      padding: 12px;
      border: none;
      border-radius: 10px;
      background: linear-gradient(135deg, #1c3da8, #37303d);
      color: #fff;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .form button:hover {
      transform: translateY(-2px) scale(1.03);
      box-shadow: 0 6px 18px rgba(99, 102, 241, 0.4);
    }

    .message {
      margin: 10px 0;
      padding: 10px;
      border-radius: 8px;
      font-size: 14px;
      animation: fadeIn 0.3s;
    }

    .success {
      background: #dcfce7;
      color: #166534;
    }

    .error {
      background: #fee2e2;
      color: #b91c1c;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Tabs -->
    <div class="tabs">
      <div id="loginTab" class="tab">Login</div>
      <div id="signupTab" class="tab">Sign Up</div>
    </div>

    <!-- Login Form -->
    <div class="form" id="loginForm">
      <h2>Login</h2>
      <div id="loginMsg"></div>

      <div class="input-group">
        <input type="text" id="loginUser" placeholder="Username" required />
      </div>

      <div class="input-group">
        <input type="password" id="loginPass" placeholder="Password" required />
        <span class="eye" onclick="togglePassword('loginPass', this)">üëÅÔ∏è</span>
      </div>

      <button onclick="login()">Login</button>
    </div>

    <!-- Signup Form -->
    <div class="form" id="signupForm" style="display: none;">
      <h2>Create Account</h2>
      <div id="signupMsg"></div>

      <input type="text" id="signupName" placeholder="Full Name" required />
      <input type="text" id="signupUser" placeholder="Username" required />

      <div class="input-group">
        <input type="password" id="signupPass" placeholder="Password" required />
        <span class="eye" onclick="togglePassword('signupPass', this)">üëÅÔ∏è</span>
      </div>

      <div class="input-group">
        <input type="password" id="signupConfirm" placeholder="Confirm Password" required />
        <span class="eye" onclick="togglePassword('signupConfirm', this)">üëÅÔ∏è</span>
      </div>

      <button onclick="signup()">Sign Up</button>
    </div>
  </div>

  <script>
    
    const loginTab = document.getElementById("loginTab");
    const signupTab = document.getElementById("signupTab");
    const loginForm = document.getElementById("loginForm");
    const signupForm = document.getElementById("signupForm");

    let users = JSON.parse(localStorage.getItem("users") || "[]");

    // First time ‚Üí force signup
    if (users.length === 0) showSignup();
    else showLogin();

    loginTab.onclick = showLogin;
    signupTab.onclick = showSignup;

    function showLogin() {
      if (users.length === 0) return;
      loginForm.style.display = "block";
      signupForm.style.display = "none";
      loginTab.classList.add("active");
      signupTab.classList.remove("active");
    }

    function showSignup() {
      loginForm.style.display = "none";
      signupForm.style.display = "block";
      signupTab.classList.add("active");
      loginTab.classList.remove("active");
    }

    function signup() {
      const name = document.getElementById("signupName").value.trim();
      const username = document.getElementById("signupUser").value.trim().toLowerCase();
      const pass = document.getElementById("signupPass").value;
      const confirm = document.getElementById("signupConfirm").value;
      const msg = document.getElementById("signupMsg");

      msg.innerHTML = "";
      msg.className = "message";

      if (!name || !username || !pass || !confirm) {
        msg.innerHTML = "Please fill all fields.";
        msg.classList.add("error");
        return;
      }

      if (pass !== confirm) {
        msg.innerHTML = "Passwords do not match.";
        msg.classList.add("error");
        return;
      }

      if (users.some(u => u.username === username)) {
        msg.innerHTML = "Username already taken.";
        msg.classList.add("error");
        return;
      }

      users.push({ name, username, pass });
      localStorage.setItem("users", JSON.stringify(users));

      msg.innerHTML = "Account created successfully! Now login.";
      msg.classList.add("success");

      document.getElementById("signupName").value = "";
      document.getElementById("signupUser").value = "";
      document.getElementById("signupPass").value = "";
      document.getElementById("signupConfirm").value = "";

      showLogin();
    }

   function login() {
  const username = document.getElementById("loginUser").value.trim().toLowerCase();
  const pass = document.getElementById("loginPass").value;
  const msg = document.getElementById("loginMsg");

  msg.innerHTML = "";
  msg.className = "message";

  // Find the user
  const user = users.find(u => u.username === username && u.pass === pass);

  if (!user) {
    msg.innerHTML = "Invalid username or password.";
    msg.classList.add("error");
    return;
  }

  // Successful login
  msg.innerHTML = "Welcome back, " + user.name + "!";
  msg.classList.add("success");

  // Save login state
  sessionStorage.setItem("loggedInUser", username);

  // Redirect to index.html after a short delay
  setTimeout(() => {
    window.location.href = "index.html";
  }, 1000);

  // Clear input fields
  document.getElementById("loginUser").value = "";
  document.getElementById("loginPass").value = "";
}


    function togglePassword(id, el) {
      const input = document.getElementById(id);
      if (input.type === "password") {
        input.type = "text";
        el.textContent = "üôà";
      } else {
        input.type = "password";
        el.textContent = "üëÅÔ∏è";
      }
    }
  </script>
</body>
</html>